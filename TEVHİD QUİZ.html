<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Tevhid Quiz - Günahlardan Sakın</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #0f172a, #020617);
      color: #e5e7eb;
    }

    .app {
      width: 100%;
      max-width: 900px;
      padding: 16px;
    }

    .card {
      background: radial-gradient(circle at top, rgba(15,23,42,0.96), rgba(15,23,42,0.98));
      border-radius: 18px;
      padding: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.6);
      border: 1px solid rgba(148,163,184,0.5);
      position: relative;
      overflow: hidden;
    }

    .glow {
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 10% 0%, rgba(34,197,94,0.2), transparent 55%),
        radial-gradient(circle at 90% 0%, rgba(56,189,248,0.2), transparent 60%);
      opacity: 0.45;
      pointer-events: none;
    }

    .header {
      position: relative;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 14px;
      z-index: 1;
      flex-wrap: wrap;
    }

    .title-block h1 {
      font-size: 1.5rem;
      color: #f9fafb;
    }

    .title-block p {
      font-size: 0.85rem;
      color: #cbd5f5;
      max-width: 420px;
    }

    .stats {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: flex-end;
    }

    .stat {
      text-align: right;
      min-width: 70px;
    }

    .stat-label {
      font-size: 0.78rem;
      color: #9ca3af;
    }

    .stat-value {
      font-size: 1rem;
      font-weight: 700;
    }

    #scoreDisplay {
      color: #22c55e;
    }

    #questionIndexDisplay {
      color: #38bdf8;
    }

    #timeDisplay {
      color: #fbbf24;
    }

    .badge {
      font-size: 0.75rem;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      color: #e5e7eb;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 8px 18px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.08s ease, box-shadow 0.12s ease, background 0.15s ease, opacity 0.15s ease;
    }

    .btn-primary {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #022c22;
      box-shadow: 0 10px 24px rgba(34,197,94,0.45);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(34,197,94,0.6);
    }

    .btn-primary:active {
      transform: translateY(1px) scale(0.97);
      box-shadow: 0 8px 16px rgba(34,197,94,0.5);
    }

    .btn-secondary {
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
      border: 1px solid rgba(148,163,184,0.7);
    }

    .btn-secondary:hover {
      background: rgba(30,64,175,0.8);
    }

    .progress-bar {
      position: relative;
      margin-top: 12px;
      height: 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      overflow: hidden;
      border: 1px solid rgba(30,64,175,0.7);
    }

    .progress-inner {
      position: absolute;
      inset: 0;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, #22c55e, #38bdf8);
      box-shadow: 0 0 14px rgba(56,189,248,0.7);
      transition: width 0.35s ease;
    }

    .content {
      position: relative;
      margin-top: 14px;
      z-index: 1;
    }

    .question-card {
      background: rgba(15,23,42,0.96);
      border-radius: 16px;
      padding: 14px 16px;
      border: 1px solid rgba(148,163,184,0.6);
      box-shadow: 0 10px 24px rgba(0,0,0,0.6);
      animation: fadeIn 0.25s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .question-text {
      font-size: 1rem;
      margin-bottom: 8px;
    }

    .question-theme {
      font-size: 0.8rem;
      color: #9ca3af;
      margin-bottom: 6px;
    }

    .options {
      margin-top: 10px;
      display: grid;
      gap: 8px;
    }

    .option-btn {
      width: 100%;
      text-align: left;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(148,163,184,0.6);
      background: rgba(15,23,42,0.95);
      color: #e5e7eb;
      cursor: pointer;
      font-size: 0.9rem;
      display: flex;
      gap: 8px;
      align-items: center;
      transition: transform 0.08s ease, box-shadow 0.12s ease, border-color 0.12s ease, background 0.15s ease;
    }

    .option-index {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.78rem;
      color: #cbd5f5;
    }

    .option-text {
      flex: 1;
    }

    .option-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(15,23,42,0.9);
      border-color: rgba(56,189,248,0.8);
    }

    .option-btn.correct {
      background: linear-gradient(135deg, #16a34a, #22c55e);
      border-color: rgba(22,163,74,0.9);
      color: #022c22;
      animation: pulseCorrect 0.4s ease-out;
    }

    .option-btn.wrong {
      background: linear-gradient(135deg, #b91c1c, #ef4444);
      border-color: rgba(248,113,113,0.9);
      color: #fef2f2;
      animation: shakeWrong 0.35s ease-out;
    }

    @keyframes pulseCorrect {
      0% { transform: scale(1); }
      40% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }

    @keyframes shakeWrong {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-3px); }
      50% { transform: translateX(3px); }
      75% { transform: translateX(-2px); }
    }

    .feedback {
      margin-top: 8px;
      font-size: 0.85rem;
      min-height: 34px;
      color: #e5e7eb;
    }

    .feedback.good {
      color: #bbf7d0;
    }

    .feedback.bad {
      color: #fecaca;
    }

    .controls {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .helper-text {
      font-size: 0.78rem;
      color: #9ca3af;
      margin-top: 6px;
    }

    /* Start / Result overlay */

    .overlay {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, rgba(15,23,42,0.97), rgba(15,23,42,0.98));
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 14px;
      text-align: center;
      padding: 18px;
      z-index: 5;
    }

    .overlay h2 {
      font-size: 1.4rem;
      color: #f9fafb;
    }

    .overlay p {
      font-size: 0.9rem;
      color: #e5e7eb;
      max-width: 430px;
    }

    .overlay-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      font-size: 0.8rem;
    }

    .overlay-badge {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      color: #cbd5f5;
    }

    .overlay-note {
      font-size: 0.78rem;
      color: #9ca3af;
      max-width: 460px;
    }

    .score-big {
      font-size: 1.3rem;
      font-weight: 700;
      color: #22c55e;
    }

    @media (max-width: 650px) {
      .card {
        padding: 14px;
      }
      .title-block h1 {
        font-size: 1.25rem;
      }
      .question-text {
        font-size: 0.95rem;
      }
    }
  </style>
</head>
<body>
<div class="app">
  <div class="card">
    <div class="glow"></div>

    <div class="header">
      <div class="title-block">
        <h1>Tevhid Quiz</h1>
        <p>
          Tevhid, şirk ve bid‘at hususundaki konuları öğren. Her doğru cevapla ilim puanı kazan,
          yanlışlardan ders al!
        </p>
      </div>
      <div class="stats">
        <div class="stat">
          <div class="stat-label">Skor</div>
          <div class="stat-value" id="scoreDisplay">0</div>
        </div>
        <div class="stat">
          <div class="stat-label">Soru</div>
          <div class="stat-value" id="questionIndexDisplay">0 / 0</div>
        </div>
        <div class="stat">
          <div class="stat-label">Zaman</div>
          <div class="stat-value" id="timeDisplay">00:00</div>
        </div>
        <span class="badge">Tevhid &amp; Şirk &amp; Bid‘at</span>
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-inner" id="progressInner"></div>
    </div>

    <div class="content">
      <div class="question-card" id="questionCard">
        <div class="question-theme" id="questionTheme"></div>
        <div class="question-text" id="questionText"></div>
        <div class="options" id="optionsContainer"></div>
        <div class="feedback" id="feedbackText"></div>
        <div class="controls">
          <button class="btn btn-secondary" id="restartBtn">Baştan Başla</button>
          <button class="btn btn-primary" id="nextBtn" disabled>Sonraki Soru</button>
        </div>
        <div class="helper-text">
          İpucu: Tevhid; Allah’ı rubûbiyetinde, ulûhiyetinde ve isim-sıfatlarında birlemek demektir.
        </div>
      </div>
    </div>

    <div class="overlay" id="overlay">
      <h2>Tevhid Yolculuğu Başlıyor</h2>
      <p>
        Soruları dikkatle oku, seçeneklerden doğru olanı seç. Her doğru cevap sana ilim puanı
        kazandıracak. Hedefin: Tevhid'i daha iyi öğrenmek ve şirke, bid‘ata karşı dikkatli olup sakınmak.
      </p>
      <div class="overlay-badges">
        <span class="overlay-badge">Tevhid-ul Ulûhiyye</span>
        <span class="overlay-badge">Tevhid-ul Rubûbiyye</span>
        <span class="overlay-badge">Tevhid-ul Esmâ ve’s-Sıfat</span>
        <span class="overlay-badge">Şirkten sakınma</span>
        <span class="overlay-badge">Bid‘atten uzak durma</span>
      </div>
      <p class="overlay-note">
        Bu quiz, klasik Ehl-i Sünnet ve selef ulemasının tevhid anlayışı üzere
        hazırlanmıştır. Başarı ancak Allah'tandır!
      </p>
      <button class="btn btn-primary" id="startBtn">Başla</button>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const TOTAL_TIME_SECONDS = 25 * 60; // 25 dk üst limit (rahatça)

    const questions = [
      {
        theme: "Tevhid Temel",
        question: "Tevhid ne demektir?",
        options: [
          "Allah’ın varlığını inkar etmek",
          "Allah’ın birliğini, O’na ibadeti yalnız Ona has kılmak",
          "Meleklere tapmak",
          "Sadece zor zamanlarda dua etmek"
        ],
        correctIndex: 1,
        explanation: "Tevhid; Allah’ı rubûbiyetinde, ulûhiyetinde ve isim-sıfatlarında birlemek, ibadeti yalnız Ona yapmaktır."
      },
      {
        theme: "Tevhid-ul Ulûhiyye",
        question: "Ulûhiyet tevhidi neyi özellikle vurgular?",
        options: [
          "Sadece Allah’ın yarattığını",
          "Sadece Allah’ın rızık verdiğini",
          "Sadece Allah’ın ibadete layık olduğunu",
          "Sadece meleklerin günahsız olduğunu"
        ],
        correctIndex: 2,
        explanation: "Tevhid-ul Ulûhiyye, ibadeti sadece Allah’a yapmayı, dua, secde, adak gibi amelleri Ona has kılmayı vurgular."
      },
      {
        theme: "Tevhid-ul Rubûbiyye",
        question: "Rubûbiyet tevhidine göre hangisi doğrudur?",
        options: [
          "Yaratma ve yönetmede birçok güç ortaktır",
          "Yaratma, yaşatma ve yönetmede tek Rab Allah’tır",
          "İnsanlar da rızık verir",
          "Peygamberler de kaderi yazar"
        ],
        correctIndex: 1,
        explanation: "Tevhid-ul Rubûbiyye, yaratan, yaşatan, rızık veren, yöneten tek Rabbin Allah olduğunu kabul etmektir."
      },
      {
        theme: "Dua",
        question: "Bir Müslüman dua ederken kime yalvarmalıdır?",
        options: [
          "Allah’a",
          "Peygambere (sallallahu aleyhi ve sellem)",
          "Evliyaların ruhlarına",
          "Ağaçlara ve türbelere"
        ],
        correctIndex: 0,
        explanation: "Dua ibadettir ve ibadet yalnız Allah’a yapılır. Yardım istenirken de kalpten tevekkül Allah’adır."
      },
      {
        theme: "Şirk",
        question: "Şirk nedir?",
        options: [
          "Sadece günah işlemek",
          "Allah’a kul olmak",
          "Allah’a ait bir ibadeti başkasına yöneltmek, Allah’a ortak koşmak",
          "Sadaka vermek"
        ],
        correctIndex: 2,
        explanation: "Şirk; Allah’a ait hakkı başkasıyla paylaşmak, ibadeti, duayı, adak ve kurbanı Allah’tan başkasına yöneltmektir."
      },
      {
        theme: "Şirk Türü",
        question: "Aşağıdakilerden hangisi büyük şirke örnek olabilir?",
        options: [
          "Sadece Allah’tan af dilemek",
          "Peygamberden (hayatta değilken) yardım dilemek",
          "Namaz kılmak",
          "Kur’an okumak"
        ],
        correctIndex: 1,
        explanation: "Her durumda yardıma yetişmek, yalnız Allah’a mahsustur. Ölmüş birinden yardım istemek, Allah’a ait bir sıfatı ona vermek olur."
      },
      {
        theme: "İbadet",
        question: "Şu amellerden hangisi ibadettir?",
        options: [
          "Namaz, dua, kurban, adak",
          "Sadece yemek yemek",
          "Sadece oyun oynamak",
          "Sadece uyumak"
        ],
        correctIndex: 0,
        explanation: "Namaz, dua, kurban, adak gibi ameller ibadettir ve yalnız Allah’a yapılmalıdır."
      },
      {
        theme: "Tevekkül",
        question: "Tevekkül ne demektir?",
        options: [
          "Hiç çalışmamak",
          "Allah’a güvenip sebeplere sarılmak",
          "Sadece insanlara güvenmek",
          "Sadece kendine güvenmek"
        ],
        correctIndex: 1,
        explanation: "Tevekkül; sebeplere sarılırken kalben sadece Allah’a güvenmek, sonucu Ondan beklemektir."
      },
      {
        theme: "Bid‘at",
        question: "Bid‘at ne demektir?",
        options: [
          "Dinde aslı olan güzel işler",
          "Peygamber ve sahabede olmayan, dine sonradan eklenen ibadet ve inanç şekilleri",
          "Sadaka vermek",
          "Kur’an okumak"
        ],
        correctIndex: 1,
        explanation: "Bid‘at; Rasûlullah’ın ve sahabenin yapmadığı, dine sonradan sokulan ibadet ve inanç şekilleridir."
      },
      {
        theme: "Sünnete Uymak",
        question: "Bid‘atten uzak durup sünnete sarılmak neden önemlidir?",
        options: [
          "Çünkü insanlar öyle istiyor",
          "Çünkü dünya hayatını süsler",
          "Çünkü hidayet Rasûlullah’ın (sallallahu aleyhi ve sellem) yolundadır",
          "Çünkü eğlenceli gelir"
        ],
        correctIndex: 2,
        explanation: "Hidayet, Rasûlullah ve sahabenin yolundadır. Bid‘at ise vahyin ve hidayetin karşısındadır."
      },
      {
        theme: "Niyet",
        question: "Bir amelin kabul olması için niyet kim için olmalıdır?",
        options: [
          "İnsanları memnun etmek için",
          "Sadece Allah için, ihlâsla",
          "Aileyi memnun etmek için",
          "Arkadaşlara gösteriş için"
        ],
        correctIndex: 1,
        explanation: "Amel, Allah için, ihlâs ile yapılırsa makbuldür. Gösteriş için yapılan ibadet, riya olur."
      },
      {
        theme: "Riya",
        question: "Riya nedir?",
        options: [
          "Allah için gizli ibadet",
          "İnsanlara gösteriş yaparak ibadet etmek",
          "Çok Kur’an okumak",
          "Sadaka vermek"
        ],
        correctIndex: 1,
        explanation: "Riya; ibadeti Allah için değil, insanların beğenmesi için yapmak, gizli şirktir."
      },
      {
        theme: "Korku ve Ümit",
        question: "Müminin kalbinde nasıl bir denge olmalıdır?",
        options: [
          "Sadece korku",
          "Sadece ümit",
          "Hem Allah’tan korku, hem rahmetini umma",
          "Hiç korku, hiç ümit olmamalı"
        ],
        correctIndex: 2,
        explanation: "Mümin, Allah’ın azabından korkar, rahmetini de umar; ikisini dengede tutar."
      },
      {
        theme: "Sevgi",
        question: "En büyük sevgi kime olmalıdır?",
        options: [
          "Dünya malına",
          "Sporculara",
          "Allah’a ve O’nun Rasûlü’ne",
          "Sadece arkadaşlara"
        ],
        correctIndex: 2,
        explanation: "Müminin en büyük sevgisi Allah’a ve Rasûlü’ne olur. Diğer sevgiler bu sevginin altında olmalıdır."
      },
      {
        theme: "Allah için Sevmek",
        question: "Allah için sevmek ne demektir?",
        options: [
          "Sadece kendini sevmek",
          "Allah’ın sevdiğini sevmek, Allah’ın sevmediğini sevmemek",
          "Sadece akrabayı sevmek",
          "Sadece eğlendiğini sevmek"
        ],
        correctIndex: 1,
        explanation: "Allah için sevmek; Allah’ın sevdiği iman, salih amel, müminleri sevmek; Allah’ın sevmediği küfür ve isyandan nefret etmektir."
      },
      {
        theme: "Meleklerden Yardım İstemek",
        question: "Meleklerden bağımsız şekilde yardım istemek doğru mudur?",
        options: [
          "Evet, her zaman çağırabiliriz",
          "Hayır, yardım yalnız Allah’tan istenir",
          "Sadece geceleri çağırılır",
          "Sadece zor zamanlarda caizdir"
        ],
        correctIndex: 1,
        explanation: "Melekler Allah’ın kullarıdır. Yardımı yaratan ve veren yalnız Allah’tır; dua sadece Allah’a yapılır."
      },
      {
        theme: "Nazarlık ve Muska",
        question: "Nazarlık, uğur kolyesi gibi şeylere kalpten güvenmek neye yakındır?",
        options: [
          "Tevhid",
          "Şirk ve batıl inançlara",
          "Sadece sünnete",
          "Sadece edebe"
        ],
        correctIndex: 1,
        explanation: "Kalbi nazarlık, muska, uğura bağlamak, sebepleri ilahlaştırmaya götürebilir ve şirke yakındır."
      },
      {
        theme: "Kabir Ziyareti",
        question: "Kabri ziyaret ederken nasıl davranmak gerekir?",
        options: [
          "Kabirde yatan kişiden istekler dilemek",
          "Kabirden medet ummak",
          "Kabirde yatanı dua ile anmak, ibadeti sadece Allah’a yapmak",
          "Kabri tavaf etmek"
        ],
        correctIndex: 2,
        explanation: "Kabir ziyareti ölümü hatırlamak ve ölü için Allah’a dua etmek içindir; ibadet yalnız Allah’a yapılır."
      },
      {
        theme: "Sihir ve Fal",
        question: "Sihir, büyü ve fal için ne denilebilir?",
        options: [
          "Eğlencelidir",
          "Masum şeylerdir",
          "İslam’da yasaktır ve şirk kapsamındadır",
          "Her zaman serbesttir"
        ],
        correctIndex: 2,
        explanation: "Sihir, büyü, fal haramdır, büyük günahlardandır ve insanı küfre ve şirke götürebilir."
      },
      {
        theme: "Kur’an’a Uymak",
        question: "Tevhidi öğrenmek için en büyük kaynak nedir?",
        options: [
          "Sadece internet",
          "Kur’an ve sahih sünnet",
          "Sadece hikayeler",
          "Sadece rüyalar"
        ],
        correctIndex: 1,
        explanation: "Tevhid ilminin asıl kaynağı Kur’an ve sahih sünnettir. Selef uleması da bu iki kaynağa dayanır."
      },
      {
        theme: "Salih Amel",
        question: "Tevhid ile amel arasında nasıl bir bağ vardır?",
        options: [
          "Hiç bağ yoktur",
          "Tevhid varsa amel önemli değildir",
          "Tevhid kalpte, amel ise onun meyvesidir",
          "Sadece amel önemlidir"
        ],
        correctIndex: 2,
        explanation: "Tevhid kalpte kök saldığında, salih ameller onun meyvesi olur; ikisi birbirini tamamlar."
      },
      {
        theme: "Küçük Şirk",
        question: "Aşağıdakilerden hangisi küçük şirke örnek olabilir?",
        options: [
          "Namazı Allah için kılmak",
          "İnsanlar görsün diye ibadet etmek (riya)",
          "Yalnız Allah’a dua etmek",
          "Sadece helal kazanmak"
        ],
        correctIndex: 1,
        explanation: "Riya, insanların görmesi için ibadet etmek, küçük şirktir. Tehlikelidir ve Tevhid'i zedeler."
      },
      {
        theme: "Kalp İbadeti",
        question: "Hangisi kalp ibadetlerindendir?",
        options: [
          "Yürümek",
          "Koşmak",
          "Allah’ı sevmek, O’ndan korkmak, O’na güvenmek",
          "Sadece yemek yemek"
        ],
        correctIndex: 2,
        explanation: "Sevgi, korku, ümit, tevekkül gibi kalp amelleri tevhidin çok önemli parçalarıdır."
      },
      {
        theme: "Şirkten Kaçınmak",
        question: "Şirkten korunmanın ilk adımlarından biri nedir?",
        options: [
          "Şirki hafife almak",
          "Tevhidi öğrenmek ve şirk çeşitlerini tanımak",
          "Hiç düşünmemek",
          "Sadece dünyayı düşünmek"
        ],
        correctIndex: 1,
        explanation: "Şirkten korunmak için tevhidi ve şirk yollarını tanımak gerekir; ilim, korumanın temelidir."
      },
      {
        theme: "Sahabenin Yolu",
        question: "Tevhid konusunda en güvenilir yol kimlerin yoludur?",
        options: [
          "Filmlerin yolu",
          "Sadece filozofların yolu",
          "Peygamberimiz ve sahabenin (selefin) yolu",
          "Sadece rüya görenlerin yolu"
        ],
        correctIndex: 2,
        explanation: "Hak yol, Rasûlullah ve sahabe neslinin yoludur. Selef, tevhidde örneğimizdir."
      },
      {
        theme: "Dinde Kolaylık",
        question: "Tevhid yolunda yürürken hangi özellik önemlidir?",
        options: [
          "İnatla hakikati reddetmek",
          "Her şeyi oyun sanmak",
          "İhlâs, ilim ve güzel ahlak",
          "Sadece insanları taklit etmek"
        ],
        correctIndex: 2,
        explanation: "Tevhid hem kalpte hem amelde ihlas, ilim ve güzel ahlak ile yaşanır."
      },
      {
        theme: "Dost Seçimi",
        question: "Tevhidi korumak için arkadaş seçiminde neye dikkat etmeliyiz?",
        options: [
          "Sadece eğlenceye bakmak",
          "İbadetsiz, günaha çağıranları seçmek",
          "Namaza, Kur’an’a önem veren, tevhidi seven kimselerle arkadaş olmak",
          "Hiç arkadaş edinmemek"
        ],
        correctIndex: 2,
        explanation: "İyi arkadaş, seni Allah’a yaklaştırır; kötü arkadaş günaha ve şirke sürükleyebilir."
      },
      {
        theme: "Dünya Sevgisi",
        question: "Aşırı dünya sevgisi kalbi neye götürebilir?",
        options: [
          "Tevhide güç verir",
          "Şirk, gaflet ve günaha sürükleyebilir",
          "Hep iyileştirir",
          "Hiç etkisi olmaz"
        ],
        correctIndex: 1,
        explanation: "Dünyayı kalpte büyütmek, Allah sevgisini zayıflatabilir ve insanı günahlara sürükleyebilir."
      },
      {
        theme: "Tevhid Sözü",
        question: "La ilahe illallah neyi ifade eder?",
        options: [
          "Hiçbir manası yoktur",
          "Allah’tan başka ilah yoktur, ibadet yalnız Onadır",
          "Sadece selamlaşma cümlesidir",
          "Sadece zor zamanda söylenir"
        ],
        correctIndex: 1,
        explanation: "La ilahe illallah; Allah'tan başka ibadete layık hiçbir ilah yoktur, demektir."
      },
      {
        theme: "Son Soru",
        question: "Tevhid üzere yaşamak neyi gerektirir?",
        options: [
          "Sadece dil ile kelimeyi söylemek, amel yok",
          "Kalp, dil ve uzuvlarla Allah’a kulluk etmek",
          "Sadece kalpten inanmak",
          "Sadece tatilde ibadet etmek"
        ],
        correctIndex: 1,
        explanation: "Tevhid; kalple iman, dille ikrar ve uzuvlarla ibadet ederek Allah’a kulluk etmektir."
      }
    ];

    const scoreDisplay = document.getElementById('scoreDisplay');
    const questionIndexDisplay = document.getElementById('questionIndexDisplay');
    const timeDisplay = document.getElementById('timeDisplay');
    const progressInner = document.getElementById('progressInner');
    const questionThemeEl = document.getElementById('questionTheme');
    const questionTextEl = document.getElementById('questionText');
    const optionsContainer = document.getElementById('optionsContainer');
    const feedbackText = document.getElementById('feedbackText');
    const restartBtn = document.getElementById('restartBtn');
    const nextBtn = document.getElementById('nextBtn');
    const overlay = document.getElementById('overlay');
    const startBtn = document.getElementById('startBtn');

    let currentIndex = 0;
    let score = 0;
    let answered = false;
    let startTime = null;
    let timerInterval = null;

    function formatTime(sec) {
      const s = Math.max(0, Math.floor(sec));
      const m = Math.floor(s / 60);
      const r = s % 60;
      return String(m).padStart(2, '0') + ':' + String(r).padStart(2, '0');
    }

    function updateTimer() {
      if (!startTime) return;
      const now = Date.now();
      const elapsedSec = Math.floor((now - startTime) / 1000);
      const remaining = Math.max(0, TOTAL_TIME_SECONDS - elapsedSec);
      timeDisplay.textContent = formatTime(elapsedSec);
      if (remaining <= 0) {
        clearInterval(timerInterval);
      }
    }

    function startTimer() {
      startTime = Date.now();
      clearInterval(timerInterval);
      timerInterval = setInterval(updateTimer, 1000);
    }

    function stopTimer() {
      clearInterval(timerInterval);
      timerInterval = null;
    }

    function updateProgress() {
      const total = questions.length;
      const progress = ((currentIndex) / total) * 100;
      progressInner.style.width = progress + "%";
      questionIndexDisplay.textContent = (currentIndex + 1) + " / " + total;
    }

    function showQuestion() {
      const q = questions[currentIndex];
      questionThemeEl.textContent = q.theme;
      questionTextEl.textContent = q.question;
      optionsContainer.innerHTML = "";
      feedbackText.textContent = "";
      feedbackText.className = "feedback";
      answered = false;
      nextBtn.disabled = true;

      q.options.forEach((opt, idx) => {
        const btn = document.createElement('button');
        btn.className = "option-btn";
        btn.innerHTML = `
          <span class="option-index">${String.fromCharCode(65 + idx)}</span>
          <span class="option-text">${opt}</span>
        `;
        btn.addEventListener('click', () => handleAnswer(idx, btn));
        optionsContainer.appendChild(btn);
      });

      updateProgress();
    }

    function handleAnswer(selectedIndex, btnEl) {
      if (answered) return;
      answered = true;

      const q = questions[currentIndex];
      const optionButtons = Array.from(optionsContainer.querySelectorAll('.option-btn'));

      optionButtons.forEach((btn, idx) => {
        btn.disabled = true;
        if (idx === q.correctIndex) {
          btn.classList.add('correct');
        }
      });

      if (selectedIndex === q.correctIndex) {
        score += 10;
        feedbackText.textContent = "Doğru! " + q.explanation;
        feedbackText.classList.add('good');
      } else {
        btnEl.classList.add('wrong');
        feedbackText.textContent = "Yanlış. " + q.explanation;
        feedbackText.classList.add('bad');
      }

      scoreDisplay.textContent = score;
      nextBtn.disabled = false;
    }

    function showResultOverlay() {
      stopTimer();
      overlay.style.display = "flex";
      const totalQuestions = questions.length;
      const maxScore = totalQuestions * 10;
      const percentage = Math.round((score / maxScore) * 100);

      let title = "Güzel Bir Başlangıç!";
      if (percentage >= 90) title = "MaşaAllah, Tevhid Yolcusu!";
      else if (percentage >= 70) title = "İyi Gidiyorsun!";
      else if (percentage >= 50) title = "Daha Çok Çalışarak Güçlen!";

      overlay.innerHTML = `
        <h2>${title}</h2>
        <p>
          ${totalQuestions} sorudan toplam
          <span class="score-big">${score} puan</span> topladın.
          Allah sana bu Tevhid ilminle, şirk ve bid‘atten uzak durmana yardım etsin.
        </p>
        <div class="overlay-badges">
          <span class="overlay-badge">Doğru: ${score / 10} / ${totalQuestions}</span>
          <span class="overlay-badge">Yüzde: ${percentage}%</span>
        </div>
        <p class="overlay-note">
          İlimle tevhidi öğrenmek, amel ile yaşamak gerekir. Bu quiz sadece bir alıştırmadır.
          Kur’an ve sahih sünnetten öğrenmeye Tevhid'i öğrenmeye devam et.
        </p>
        <button class="btn btn-primary" id="againBtn">Tekrar Oyna</button>
      `;
      const againBtn = document.getElementById('againBtn');
      againBtn.addEventListener('click', () => {
        resetGame();
        overlay.style.display = "none";
      });
    }

    function nextQuestion() {
      if (currentIndex < questions.length - 1) {
        currentIndex++;
        showQuestion();
      } else {
        showResultOverlay();
      }
    }

    function resetGame() {
      currentIndex = 0;
      score = 0;
      scoreDisplay.textContent = "0";
      questionIndexDisplay.textContent = "1 / " + questions.length;
      progressInner.style.width = "0%";
      feedbackText.textContent = "";
      feedbackText.className = "feedback";
      startTime = null;
      stopTimer();
      startTimer();
      showQuestion();
    }

    startBtn.addEventListener('click', () => {
      overlay.style.display = "none";
      resetGame();
    });

    restartBtn.addEventListener('click', () => {
      resetGame();
    });

    nextBtn.addEventListener('click', () => {
      nextQuestion();
    });
  });
</script>
</body>
</html>
